const gPort=chrome.runtime.connect(),gInitTime=performance.now();let gOnKeyDown,gKeyCache=[],gShortcutCache=[],gClose=!1;chrome.runtime.lastError&&console.log("Chrome error:",chrome.runtime.lastError),function(){const a=/[-'!"#$%&()\*+,\.\/:;<=>?@\[\\\]\^_`{|}~ \w]/;gOnKeyDown=function(b){var c=String.fromCharCode(b.which);switch(b.shiftKey||(c=c.toLocaleLowerCase()),b.which){case 27:gClose=!0;break;case 8:gKeyCache.pop();break;default:b.altKey||b.ctrlKey||b.metaKey?gShortcutCache.push(c):a.test(c)&&gKeyCache.push(c);}},document.addEventListener("keydown",gOnKeyDown)}();
